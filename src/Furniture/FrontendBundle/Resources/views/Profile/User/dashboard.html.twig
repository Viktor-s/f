{% extends 'FrontendBundle:Profile/User:base.html.twig' %}

{% block title %}{{ 'frontend.title.dashboard'|trans }} :: {{ parent() }}{% endblock %}

{% block breadcrumb %}
    {{ parent() }}
{% endblock %}

{% block page_content %}
    <div class="row">
        {% if app.user.isRetailer() %}
            <div class="col-md-3">
                {% if app.user.retailerUserProfile.retailerProfile.logoImage and app.user.retailerUserProfile.retailerProfile.logoImage.path %}
                    <img src="{{ app.user.retailerUserProfile.retailerProfile.logoImage.path|imagine_filter('s200x200') }}" />
                {% else %}
                    <img data-src="holder.js/200x200?text=Logo" />
                {% endif %}
            </div>

            <div class="col-md-9">
                <div class="article-container style-1">
                    <h3>{{ 'frontend.retailer'|trans }}: {{ app.user.retailerUserProfile.retailerProfile.name }}</h3>

                    {% if app.user.retailerUserProfile.retailerProfile.address %}
                        <div class="address">
                            <b>{{ 'frontend.address'|trans }}:</b>
                            {{ app.user.retailerUserProfile.retailerProfile.address }}
                        </div>
                    {% endif %}

                    {% if app.user.retailerUserProfile.retailerProfile.phones|length > 0 %}
                        <div class="phones">
                            <b>{{ 'frontend.phones'|trans }}:</b>
                            {% for phone in app.user.retailerUserProfile.retailerProfile.phones %}
                                <span class="item">{{ phone }}{% if not loop.last %}, {% endif %}</span>
                            {% endfor %}
                        </div>
                    {% endif %}

                    {% if app.user.retailerUserProfile.retailerProfile.emails|length > 0 %}
                        <div class="emails">
                            <b>{{ 'frontend.emails'|trans }}:</b>
                            {% for email in app.user.retailerUserProfile.retailerProfile.emails %}
                                <span class="item">{{ email }}{% if not loop.last %}, {% endif %}</span>
                            {% endfor %}
                        </div>
                    {% endif %}

                    {% if app.user.retailerUserProfile.retailerProfile.website %}
                        <div class="website">
                            <b>{{ 'frontend.website'|trans }}:</b>
                            <a href="{{ app.user.retailerUserProfile.retailerProfile.website }}" target="_blank">
                                {{ app.user.retailerUserProfile.retailerProfile.website }}
                            </a>
                        </div>
                    {% endif %}
                </div>
            </div>
        {% elseif app.user.factory %}
            <div class="col-md-12">
                <div class="product-slide-entry">
                    {% if app.user.factory.hasImages() %}
                        <img src="{{ app.user.factory.primaryImage.path|imagine_filter('s201x203') }}">
                    {% endif %}
                    <a href="#" class="title">{{ app.user.factory.name }}</a>
                </div>
            </div>
        {% endif %}
    </div>

    <div class="row">
        <div class="col-md-12">
            <br/>
            <hr/>
            <div class="article-container style-1">
                <h5>{{ app.user.customer.firstName }} {{ app.user.customer.lastName }} </h5>

                <div class="emails">
                    <b>{{ 'frontend.email'|trans }}:</b>
                    <span class="item">{{ app.user.customer.email }}</span>
                </div>

                {% if app.user.retailerUserProfile and app.user.retailerUserProfile.phones|length > 0 %}
                    <div class="phones">
                        <b>{{ 'frontend.phones_contact'|trans }}:</b>
                        {% for phone in app.user.retailerUserProfile.phones %}
                            <span class="item">{{ phone }}{% if not loop.last %}, {% endif %}</span>
                        {% endfor %}
                    </div>
                {% endif %}

                {% if app.user.retailerUserProfile and app.user.retailerUserProfile.emails|length > 0 %}
                    <div class="emails">
                        <b>{{ 'frontend.emails'|trans }}:</b>
                        {% for email in app.user.retailerUserProfile.emails %}
                            <span class="item">{{ email }}{% if not loop.last %}, {% endif %}</span>
                        {% endfor %}
                    </div>
                {% endif %}

                {% if app.user.retailerUserProfile and app.user.retailerUserProfile.position %}
                    <div class="position">
                        <b>{{ 'frontend.position'|trans }}:</b>
                        {{ app.user.retailerUserProfile.position }}
                    </div>
                {% endif %}
            </div>
        </div>
    </div>
{% endblock %}